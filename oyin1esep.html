<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8">
<title>–°–∞–Ω–¥–∞—Ä–¥—ã —Ä–µ—Ç—ñ–º–µ–Ω –æ—Ä–Ω–∞–ª–∞—Å—Ç—ã—Ä</title>

<style>
body{
    font-family: Arial;
    background: linear-gradient(135deg,#74ebd5,#ACB6E5);
    text-align:center;
    margin:0;
}
h2{
    color:white;
    padding:20px;
}
.container{
    display:flex;
    justify-content:space-around;
    margin-top:20px;
}
.zone{
    width:45%;
    min-height:180px;
    background:white;
    border-radius:15px;
    padding:20px;
}
.numbers{
    margin-top:30px;
}
.number{
    display:inline-block;
    padding:15px 20px;
    margin:10px;
    background:white;
    border-radius:15px;
    cursor:grab;
    font-weight:bold;
    box-shadow:0 4px 8px rgba(0,0,0,0.3);
}
.correct{
    background:#66bb6a;
    color:white;
}
.wrong{
    background:#ef5350;
    color:white;
}
#result{
    margin-top:25px;
    font-size:40px;
    font-weight:bold;
}
#score{
    font-size:24px;
    margin-top:10px;
}
</style>
</head>

<body>

<h2>
–ï–∫—ñ —Ç–∞“£–±–∞–ª—ã —Å–∞–Ω–¥–∞—Ä–¥—ã ”©—Å—É —Ä–µ—Ç—ñ–º–µ–Ω –æ—Ä–Ω–∞–ª–∞—Å—Ç—ã—Ä<br>
“Æ—à —Ç–∞“£–±–∞–ª—ã —Å–∞–Ω–¥–∞—Ä–¥—ã –∫–µ–º—É —Ä–µ—Ç—ñ–º–µ–Ω –æ—Ä–Ω–∞–ª–∞—Å—Ç—ã—Ä
</h2>

<div class="container">
    <div class="zone" id="rinatZone" ondrop="drop(event)" ondragover="allowDrop(event)">
        <b>”®—Å—É —Ä–µ—Ç—ñ</b>
    </div>
    <div class="zone" id="abenovZone" ondrop="drop(event)" ondragover="allowDrop(event)">
        <b>–ö–µ–º—É —Ä–µ—Ç—ñ</b>
    </div>
</div>

<div class="numbers" id="numbersContainer"></div>

<div id="result"></div>
<div id="score"></div>

<script>

const numbersData = [42,48,63,65,86,701,277,270,207,117,107];

function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}

shuffle(numbersData);

const container = document.getElementById("numbersContainer");

numbersData.forEach(num=>{
    const div = document.createElement("div");
    div.className="number";
    div.id=num;
    div.draggable=true;
    div.innerText=num;
    div.ondragstart=drag;
    container.appendChild(div);
});

function allowDrop(ev){
    ev.preventDefault();
}

function drag(ev){
    ev.dataTransfer.setData("text", ev.target.id);
}

function drop(ev){
    ev.preventDefault();
    var data = ev.dataTransfer.getData("text");
    var element = document.getElementById(data);
    ev.target.appendChild(element);
    checkResult(element);
}

function checkResult(lastElement){

    let rinatCorrect = [42,48,63,65,86];
    let abenovCorrect = [701,277,270,207,117,107];

    let rinatNumbers = Array.from(document.getElementById("rinatZone").querySelectorAll(".number"))
                            .map(el => parseInt(el.id));

    let abenovNumbers = Array.from(document.getElementById("abenovZone").querySelectorAll(".number"))
                             .map(el => parseInt(el.id));

    document.querySelectorAll(".number").forEach(el=>{
        el.classList.remove("correct","wrong");
    });

    let score = 0;

    // ”®—Å—É —Ä–µ—Ç—ñ —Ç–µ–∫—Å–µ—Ä—É
    rinatNumbers.forEach((num,i)=>{
        let el = document.getElementById(num);
        if(rinatCorrect[i] === num){
            el.classList.add("correct");
            score++;
        }else{
            el.classList.add("wrong");

            // üî¥ “ö–∞—Ç–µ –±–æ–ª—Å–∞ “õ–∞–π—Ç–∞ —Ç“Ø—Å—ñ—Ä—É
            setTimeout(()=>{
                document.getElementById("numbersContainer").appendChild(el);
                el.classList.remove("wrong");
            },800);
        }
    });

    // –ö–µ–º—É —Ä–µ—Ç—ñ —Ç–µ–∫—Å–µ—Ä—É
    abenovNumbers.forEach((num,i)=>{
        let el = document.getElementById(num);
        if(abenovCorrect[i] === num){
            el.classList.add("correct");
            score++;
        }else{
            el.classList.add("wrong");

            setTimeout(()=>{
                document.getElementById("numbersContainer").appendChild(el);
                el.classList.remove("wrong");
            },800);
        }
    });

    if(score === 11){
        document.getElementById("result").innerText = "–†–ò–ù–ê–¢ ”ò–ë–ï–ù–û–í";
        document.getElementById("score").innerText = "–ë–∞“ì–∞–ª–∞—É: 3 –±–∞–ª–ª ‚≠ê‚≠ê‚≠ê";
    }
    else if(score >=7){
        document.getElementById("score").innerText = "–ë–∞“ì–∞–ª–∞—É: 2 –±–∞–ª–ª ‚≠ê‚≠ê";
    }
    else if(score >0){
        document.getElementById("score").innerText = "–ë–∞“ì–∞–ª–∞—É: 1 –±–∞–ª–ª ‚≠ê";
    }
    else{
        document.getElementById("score").innerText = "";
    }
}

</script>

</body>
</html>